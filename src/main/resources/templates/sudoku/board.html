<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8">
  <title>Sudoku [[${size}]]×[[${size}]]</title>
  <style>
    :root {
      --board-size: min(92vmin, 720px);
      --thin: 1px;
      --thick: 3px;
      --bg: #111;
      --fg: #f5f5f5;
    }
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background: var(--bg);
      color: var(--fg);
    }
    .board {
      width: var(--board-size);
      height: var(--board-size);
      display: grid;
      grid-template-columns: repeat([[${cols}]], 1fr);
      grid-template-rows: repeat([[${rows}]], 1fr);
      border: var(--thick) solid var(--fg);
      background: #000;
    }
    .cell{
      position:relative;
      display:grid; place-items:center;
      border: var(--thin) solid #444; /* líneas finas por defecto */
      background:#181818;
      font-size: clamp(12px, calc(48px / (var([[${cols}]])/9)), 28px);  /* adapta el tamaño del texto a N */
      line-height:1;
    }

    /* Estilos dinámicos para bordes gruesos */
    .seg-top    { border-top: var(--thick) solid var(--fg) !important; }
    .seg-left   { border-left: var(--thick) solid var(--fg) !important; }
    .seg-right  { border-right: var(--thick) solid var(--fg) !important; }
    .seg-bottom { border-bottom: var(--thick) solid var(--fg) !important; }

    /* Input dentro de cada celda */
    .cell input{
      width: 100%; height: 100%;
      text-align:center;
      background: transparent;
      color: var(--fg);
      border: none;
      outline: none;
      font: inherit;
      caret-color: var(--accent);
    }

    /* Hover / enfoque para facilidad visual (opcional) */
    .cell:focus-within{ background:#202020; }
  </style>
</head>
<body>
<div class="board">
  <th:block th:each="row, rowStat : ${board}">
    <th:block th:each="cell, colStat : ${row}">
      <div th:class="'cell ' +
              (${rowStat.index} % ${r} == 0 ? 'seg-top ' : '') +
              (${colStat.index} % ${c} == 0 ? 'seg-left ' : '') +
              (${colStat.index} % ${c} == ${c}-1 ? 'seg-right ' : '') +
              (${rowStat.index} % ${r} == ${r}-1 ? 'seg-bottom ' : '') +
              (${rowStat.index} == ${rows}-1 ? 'seg-bottom ' : '') +
              (${colStat.index} == ${cols}-1 ? 'seg-right ' : '')">
        <input type="text"
               inputmode="numeric"
               maxlength="1"
               th:id="'cell-' + ${rowStat.index} + '-' + ${colStat.index}"
               th:data-row="${rowStat.index}"
               th:data-col="${colStat.index}"
               th:value="${cell}">
      </div>
    </th:block>
  </th:block>
</div>
</body>
</html>
